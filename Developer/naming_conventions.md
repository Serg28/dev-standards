# Соглашения об именовании

Этот документ описывает стандарты именования, принятые в нашем проекте. Соблюдение этих правил делает код единообразным, предсказуемым и легким для чтения.

---

## Таблица соглашений Laravel

Ниже приведена таблица основных правил именования, основанная на лучших практиках сообщества.

| Что | Правило | ✅ Правильно | ❌ Неправильно |
| :--- | :--- | :--- | :--- |
| **Контроллер** | Единственное число, суффикс `Controller` | `ArticleController` | `ArticlesController` |
| **Маршрут** | Множественное число (для ресурсов) | `articles/1` | `article/1` |
| **Имя маршрута** | `snake_case`, группировка через точку | `users.show_active` | `users.show-active`, `show-active-users` |
| **Модель** | Единственное число, `PascalCase` | `User` | `Users` |
| **Отношения** (`hasOne`, `belongsTo`) | Единственное число, `camelCase` | `articleComment` | `articleComments`, `article_comment` |
| **Отношения** (`hasMany`, `belongsToMany`) | Множественное число, `camelCase` | `articleComments` | `articleComment`, `article_comments` |
| **Таблица** | Множественное число, `snake_case` | `article_comments` | `article_comment`, `articleComments` |
| **Сводная таблица (Pivot)** | Имена моделей в ед.ч. в алфавитном порядке | `article_user` | `user_article`, `articles_users` |
| **Поле в таблице** | `snake_case` без имени модели | `meta_title` | `MetaTitle`, `article_meta_title` |
| **Внешний ключ** | Имя модели в ед.ч. + `_id` | `article_id` | `ArticleId`, `id_article`, `articles_id` |
| **Первичный ключ** | - | `id` | `custom_id` |
| **Миграция** | `ГГГГ_ММ_ДД_ЧЧММСС_действие_таблица` | `2017_01_01_000000_create_articles_table` | `2017_01_01_000000_articles` |
| **Метод** | `camelCase` | `getAll` | `get_all` |
| **Метод в ресурсном контроллере** | Стандартные имена Laravel | `store` | `saveArticle` |
| **Переменная** | `camelCase` | `$articlesWithAuthor` | `$articles_with_author` |
| **Коллекция** | Описательное, множественное число | `$activeUsers` | `$active`, `$data` |
| **Объект** | Описательное, единственное число | `$activeUser` | `$users`, `$obj` |
| **Представление (View)** | `kebab-case` | `show-filtered.blade.php` | `showFiltered.blade.php` |
| **Контракт (Интерфейс)** | Существительное или прилагательное, суффикс `Interface` | `AuthenticationInterface` | `Authenticatable`, `IAuthentication` |
| **Трейт** | Прилагательное, суффикс `Trait` (PSR) | `NotifiableTrait` | `Notification` |
| **Enum** | Единственное число, суффикс `Enum` (опционально) | `UserType`, `UserTypeEnum` | `UserTypes` |
| **Form Request** | `PascalCase`, суффикс `Request` | `UpdateUserRequest` | `UserFormRequest`, `UserRequest` |

---

## Ключевые принципы именования

### 1. Имена должны быть осмысленными

- **✅ Правильно:** Использовать имена, которые раскрывают намерение.
- **❌ Неправильно:** Использовать короткие, загадочные или общие имена (`$a`, `$data`, `handleData`).

**Причина:** Код читается гораздо чаще, чем пишется. Ясное имя экономит время и умственные усилия всех, кто будет работать с этим кодом в будущем.

**Пример:**
```php
// ❌ Неправильно
$usr = User::find($id);

// ✅ Правильно
$currentUser = User::find($userId);
```

### 2. Методы-глаголы, классы-существительные

- **✅ Правильно:** Именовать методы и функции глаголами, описывающими действие (`getCustomer`, `calculateTotal`), а классы — существительными, описывающими сущность (`Customer`, `OrderRepository`).
- **❌ Неправильно:** Нарушать эту логику (`customerGet`, `DataManager`).

**Причина:** Это естественное для восприятия соглашение, которое делает код похожим на прозу и помогает быстрее понять, что происходит.

### 3. Булевы значения должны читаться как вопрос

- **✅ Правильно:** Начинать имена булевых переменных и методов с `is`, `has`, `can`, `should`.
- **❌ Неправильно:** Использовать имена, которые не отвечают на вопрос да/нет (`$status`, `$deleteFlag`).

**Причина:** Это делает условные конструкции интуитивно понятными.

**Пример:**
```php
// ❌ Неправильно
if ($user->permission) { ... }

// ✅ Правильно
if ($user->canDeletePost()) { ... }
```

### 4. Указывать единицы измерения

- **✅ Правильно:** Добавлять единицы измерения в имена числовых переменных.
- **❌ Неправильно:** Оставлять двусмысленность.

**Причина:** Это предотвращает ошибки и недопонимания при работе с числами.

**Пример:**
```php
// ❌ Неправильно
$timeout = 100; // 100 чего?

// ✅ Правильно
$timeoutInSeconds = 100;
```

### 5. Избегать сокращений и "магических" строк/чисел

- **✅ Правильно:** Использовать полные слова (кроме общепринятых, вроде `id`, `url`, `db`) и выносить строковые/числовые литералы в константы или файлы конфигурации/локализации.
- **❌ Неправильно:** Использовать собственные сокращения (`$crAt`, `$usr`) и оставлять "магические" значения в коде.

**Причина:** Сокращения понятны только автору, а "магические" значения усложняют поддержку и изменение кода.

**Пример:**
```php
// ❌ Неправильно
if ($article->status === 2) { ... }

// ✅ Правильно
// В модели Article: const STATUS_PUBLISHED = 2;
if ($article->status === Article::STATUS_PUBLISHED) { ... }
```
