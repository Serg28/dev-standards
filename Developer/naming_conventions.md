# Соглашения по именованию кода

## Общие принципы

* Имена должны быть **осмысленными и точными** — по названию сразу понятно, что делает функция, переменная или класс.
* Используйте **английский язык** и правильную грамматику. Не допускаются транслитерации с русского.

    * ✅ `horizontalAlignment`
    * ❌ `alignmentHorizontal`
* Избегайте **дезинформирующих имён** — название должно точно соответствовать назначению.
* Имена должны быть **читаемыми и произносимыми**.
* **Не используйте шутки или аббревиатуры**, понятные только автору.

## Классы

* Имена классов — **существительные** в формате **PascalCase**.
* Название отражает сущность или объект, который описывает класс.

    * ✅ `Customer`, `OrderRepository`, `InvoiceParser`
    * ❌ `CustomerData`, `ParserInfo`, `DataManager`
* Если используется паттерн проектирования — указывайте его в названии.

    * ✅ `UserFactory`, `OrderBuilder`

## Методы и функции

* Имена методов — **глаголы** в формате **camelCase**.
* Название должно отражать выполняемое действие.

    * ✅ `getCustomer()`, `calculateTotal()`, `sendEmail()`
    * ❌ `customerGet()`, `emailSending()`

### Булевы методы и свойства

* Для булевых значений используйте предикаты:

    * ✅ `isActive`, `hasPermission`, `canDelete`
    * ❌ `activeFlag`, `permission`, `deleteOption`

## Переменные и свойства

* Формат: **camelCase**.
* Длина имени зависит от области видимости:

    * Внутри коротких блоков (например, цикла) можно использовать краткие имена (`$i`, `$row`).
    * Для свойств и переменных с широким применением — используйте полные, понятные имена.
    * ✅ `$totalAmount`, `$userEmail`
    * ❌ `$a`, `$tmp`
* Соблюдайте **симметрию**: `min / max`, `begin / end`, `locked / unlocked`.

## Константы

* Формат: **UPPER_SNAKE_CASE**.

    * ✅ `MAX_ATTEMPTS`, `DEFAULT_TIMEOUT`
    * ❌ `MaxAttempts`, `defaultTimeout`

## Точность и контекст

### Указывайте единицы измерения

Если переменная хранит числовое значение с единицей измерения, её следует явно указать в имени. Это предотвращает ошибки и недопонимания.

*   ❌ `$averageTime = 100;` // 100 чего? миллисекунд, секунд, минут?
*   ✅ `$averageTimeInMs = 100;` // Сразу понятно, что 100 миллисекунд.

### Используйте объекты-значения для сложных данных

Для данных, которые имеют внутреннюю логику или могут быть представлены в разных форматах (например, проценты, деньги, даты), лучше использовать объекты-значения (Value Objects) вместо примитивных типов. Это делает код более надёжным и выразительным.

Представьте, что вам нужно работать с процентами. Какой из вариантов правильный?

*   ❌ `$percentage = 0.5;`
*   ❌ `$percentage = 50;`

Оба варианта могут быть верными в зависимости от контекста, что создаёт путаницу. Решение — создать класс `Percentage`:

```php
class Percentage
{
    private function __construct(
        public int $value;
    ) {};

    public static function fromInt(int $percentage): self
    {
        return new self($percentage);
    }

    public static function fromFloat(float $percentage): self
    {
        return new self($percentage * 100);
    }
}
```

Теперь использование становится однозначным:

*   ✅ `$percentage = Percentage::fromFloat(0.5);` // 50%
*   ✅ `$percentage = Percentage::fromInt(50);` // 50%

### Предпочитайте длинные и описательные имена

Не бойтесь использовать длинные имена, если они чётко описывают назначение переменной, метода или класса. Код читается гораздо чаще, чем пишется.

*   ❌ `$usr = User::find($id);`
*   ✅ `$currentUser = User::find($userId);`

## Специфика Laravel и PHP

* Методы и свойства — `camelCase`
* Классы — `PascalCase`
* Константы — `UPPER_SNAKE_CASE`
* Таблицы и поля в базе данных — `snake_case`
* Отношения в Eloquent:

    * Если возвращает коллекцию — во множественном числе (`orders()`)
    * Если возвращает одну модель — в единственном (`order()`)

## Читаемость и выразительность

* Код должен читаться как естественная фраза.

    * ✅ `if ($list->contains($item))`
    * ❌ `if ($list->isContained($item))`
* Выбирайте имена, которые понятны без контекста.

## Избегайте сокращений

* Используйте только общеизвестные аббревиатуры (`id`, `url`, `db`).

    * ✅ `userId`, `createdAt`
    * ❌ `usr`, `crAt`

## Практические примеры

```php
class OrderController extends Controller
{
    public function store(Request $request)
    {
        $validatedData = $this->validateOrder($request);
        $order = $this->orderService->createOrder($validatedData);

        return redirect()->route('orders.show', $order);
    }
}
```

## Резюме

* Имена — это основа читаемости и поддержки кода.
* Каждое имя должно быть **однозначным**, **понятным** и **соответствующим контексту**.
* Следуйте единым правилам во всём проекте.
